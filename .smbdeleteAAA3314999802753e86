<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Obscura</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link rel="stylesheet" type="text/css" href="css/style.css" />

	</head>

<body>

		<div class="wrapper">
			<div id="container"></div>
			<div id="blocker">
				<div id="instructions">
					<strong><p>Click to start!</p> Use the arrow keys or WASD to move.</p>
					<strong>The objective of the game is to find the key to unlock the door
						and escape the room. To see more of the area, collect more of the
						light. However, if your light dies so do you! </strong>
				</div>
			</div>

			<div id="endgameAlert">
			</div>
		<div>
    <script src="libjs/three.min.js"></script>
    <script src="libjs/three.js"></script>
		<script src="libjs/OrbitControl.js"></script>
    <script src="libjs/dat.gui.min.js"></script>
    <script src="js/STLLoader.js"></script>

    <!-- ---------------- CUSTOM SHADER CODE ------------------------ -->
    <script id="vertexShader" type="x-shader/x-vertex">

      uniform vec3 viewVector;
      uniform float c;
      uniform float p;
      varying float intensity;
      void main()
      {
          vec3 vNormal = normalize( normalMatrix * normal );
        vec3 vNormel = normalize( normalMatrix * viewVector );
        intensity = pow( c - dot(vNormal, vNormel), p );

          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
      }

    </script>

    <!-- fragment shader a.k.a. pixel shader -->
    <script id="fragmentShader" type="x-shader/x-vertex">

      uniform vec3 glowColor;
      varying float intensity;
      void main()
      {
        vec3 glow = glowColor * intensity;
          gl_FragColor = vec4( glow, 1.0 );
      }


    </script>
    <!-- END OF SHADER CODE -->




    <div id="alert_div" title="alert"> </div>
    <script src="https://threejs.org/examples/js/controls/PointerLockControls.js"></script>
		<script src="js/scene/Obstacles.js"> </script>
    <script src="js/scene/Key.js"> </script>    
		<script src="js/scene/Cube.js"> </script>
		<script src="js/scene/Background.js"> </script>
    <script src="js/scene/Door.js"></script>
    <script src="js/scene/LightOrb.js"></script>
		<script src="js/PlayerControls.js"> </script>
		<script src="js/scene.js"> </script>

</body>
